{"Name":"StreetHawk Push","Id":3085,"Alias":"streethawkpush","Description":"## Register With StreetHawk\n\nclick [here](https://console.streethawk.com/static/bb/#login) to register with StreetHawk and reserve and AppKey for your application\n\n## Documentation\n* [iOS](https://streethawk.freshdesk.com/solution/articles/5000688905-analytics)\n* [Android](https://streethawk.freshdesk.com/solution/articles/5000688897-analytics)\n \n## StreetHawk Features\n* Beacons\n* Growth\n* Push\n* Geofence\n* Locations","Version":"1.8.5","Summary":"Run push message notifications based campaings using StreetHawk","QuickStart":"# StreetHawk Push\n\nStreetHawk Push component lets you send push messages to your application. Depending on your application\u0027s current state, if your application in foreground, the push notification overlays on the current screen as a notification dialog with user to take action and for application in background, the SDK generates a notification in notification bar. Push modules also support custom dialog. \n\n## Register\n \nRegister your application [here](https://console.streethawk.com/static/bb/#login) and reserve an AppKey for your application. The appkey is required to register install for your application.\n\n## Prerequisite\n\nStreetHawk\u0027s Geofence component depends on StreetHawk\u0027s Analytics component and hence needs to be included in your application. Documentaton for Analytics component is as below.\n* [iOS] (https://streethawk.freshdesk.com/solution/articles/5000688905-analytics)\n* [Android] (https://streethawk.freshdesk.com/solution/articles/5000688897-analytics)\n\nPush notification configured for your application\n*[iOS](https://streethawk.freshdesk.com/solution/articles/5000609001-configure-push-messaging-ios-)\n*[Android](https://streethawk.freshdesk.com/solution/articles/5000608997-configure-push-messaging-android-)\n\n\n## iOS Integration\n\nInclude StreetHawk Push component as shown below. \n```\nusing StreethawkIOS.Core;\nusing StreethawkIOS.Push;\n```\nNow add the below mention code in FinishedLaunching function of AppDelegate class of your application. Must call at least one function of Push module to make sure link to it.  For very simple use case, just add this line:\n```\n\t\tpublic override bool FinishedLaunching (UIApplication application, NSDictionary launchOptions)\n\t\t{\n\t\t\t//Simply call one function of Push module to make sure linking to it.\n            SHPush.instance().isDefaultNotificationEnabled = true;\n```\n\n## Android Integration\n\n* Include Component Google play services - CloudMessaging (GCM)\n* Modify AndroidManifest.xml\nAdd the following permissions in your application\u0027s AndroidManifest.xml\n```\n\u003cmanifest\u003e\n...\n    \u003cuses-permission android:name=\"android.permission.INTERNET\" /\u003e\n    \u003cuses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /\u003e\n    \u003cuses-permission android:name=\"android.permission.GET_TASKS\" /\u003e\n    \u003cuses-permission android:name=\"android.permission.RECEIVE_BOOT_COMPLETED\" /\u003e\n\n    \n    \u003cpermission\n        android:name=\"\u003cAPP_PACKAGE_NAME\u003e.permission.C2D_MESSAGE\"\n        android:protectionLevel=\"signature\" /\u003e\n\n    \u003cuses-permission android:name=\"\u003cAPP_PACKAGE_NAME\u003e.permission.C2D_MESSAGE\" /\u003e\n    \u003cuses-permission android:name=\"com.google.android.c2dm.permission.RECEIVE\" /\u003e\n    \u003cuses-permission android:name=\"android.permission.WAKE_LOCK\" /\u003e\n    \n    \u003c!-- To support badges on devices --\u003e\n    \u003cuses-permission android:name=\"com.htc.launcher.permission.READ_SETTINGS\" /\u003e\n    \u003cuses-permission android:name=\"com.htc.launcher.permission.UPDATE_SHORTCUT\" /\u003e\n    \u003cuses-permission android:name=\"com.sonyericsson.home.permission.BROADCAST_BADGE\" /\u003e\n    \u003cuses-permission android:name=\"com.sec.android.provider.badge.permission.READ\" /\u003e\n    \u003cuses-permission android:name=\"com.sec.android.provider.badge.permission.WRITE\" /\u003e\n\n    \u003capplication\u003e\n    ...\n    \u003c/application\u003e\n\u003c/manifest\u003e\n```\nAdd the following code under application of AndroidMainfest.xml \n\n```\n\u003capplication\u003e\n\u003creceiver\n            android:name=\"com.streethawk.library.core.StreethawkBroadcastReceiver\"\n            android:enabled=\"true\"\n            android:exported=\"true\" \u003e\n            \u003cintent-filter\u003e\n                \u003caction android:name=\"android.location.PROVIDERS_CHANGED\" /\u003e\n                \u003caction android:name=\"android.intent.action.TIMEZONE_CHANGED\" /\u003e\n                \u003caction android:name=\"android.intent.action.BOOT_COMPLETED\" /\u003e\n                \u003caction android:name=\"android.net.conn.CONNECTIVITY_CHANGE\" /\u003e\n                \u003caction android:name=\"com.streethawk.intent.action.gcm.STREETHAWK_APP_STATUS_CHK\" /\u003e\n            \u003c/intent-filter\u003e\n        \u003c/receiver\u003e\n\n        \u003cservice\n            android:name=\"com.streethawk.library.core.StreetHawkCoreService\"\n            android:enabled=\"true\"\n            android:exported=\"true\" \u003e\n        \u003c/service\u003e\n\n         \u003cservice\n            android:name=\"com.streethawk.library.push.SHGcmListenerService\"\n            android:exported=\"false\"\u003e\n            \u003cintent-filter\u003e\n                \u003caction android:name=\"com.google.android.c2dm.intent.RECEIVE\" /\u003e\n            \u003c/intent-filter\u003e\n        \u003c/service\u003e\n\n        \u003creceiver android:name=\"com.streethawk.library.push.PushNotificationBroadcastReceiver\"\u003e\n            \u003cintent-filter\u003e\n                \u003caction android:name=\"com.streethawk.intent.action.pushnotification\" /\u003e\n                \u003caction android:name=\"com.streethawk.intent.action.gcm.STREETHAWK_DECLINED\" /\u003e\n                \u003caction android:name=\"com.streethawk.intent.action.gcm.STREETHAWK_POSTPONED\" /\u003e\n                \u003caction android:name=\"com.streethawk.intent.action.gcm.STREETHAWK_ACCEPTED\" /\u003e\n                \u003caction android:name=\"com.streethawk.intent.action.APP_STATUS_NOTIFICATION\" /\u003e\n            \u003c/intent-filter\u003e\n        \u003c/receiver\u003e\n\n        \u003creceiver\n            android:name=\"com.google.android.gms.gcm.GcmReceiver\"\n            android:permission=\"com.google.android.c2dm.permission.SEND\"\u003e\n            \u003cintent-filter\u003e\n                \u003caction android:name=\"com.google.android.c2dm.intent.REGISTRATION\" /\u003e\n                \u003caction android:name=\"com.google.android.c2dm.intent.RECEIVE\" /\u003e\n\n                \u003ccategory android:name=\"\u003cAPP_PACKAGE_NAME\u003e\" /\u003e\n            \u003c/intent-filter\u003e\n        \u003c/receiver\u003e\n\n        \u003cservice\n            android:name=\"com.streethawk.library.push.SHInstanceIDListenerService\"\n            android:enabled=\"true\"\n            android:exported=\"true\"\u003e\n            \u003cintent-filter\u003e\n                \u003caction android:name=\"com.google.android.gms.iid.InstanceID\"/\u003e\n            \u003c/intent-filter\u003e\n        \u003c/service\u003e\n\n\n\t\u003c/application\u003e\n```\n\n* Modify Launcher Activity Class\nInclude Analytics and Push components as shown below\n```\nusing Com.Streethawk.Library.Core;\nusing Com.Streethawk.Library.Push;\n```\nNow add the below mention code in OnCreate() function of  Launcher class of your application\n\n```\nnamespace XamHawkPush\n{\n\t[Activity (Label = \"XamHawkPush\", MainLauncher = true, Icon = \"@mipmap/icon\")]\n\tpublic class MainActivity : Activity,ISHEventObserver\n\t{\n\t\tint count = 1;\n\n\t\tprotected override void OnCreate (Bundle savedInstanceState)\n\t\t{\n\t\t\tXamarin.Insights.Initialize (XamarinInsights.ApiKey, this);\n\t\t\tbase.OnCreate (savedInstanceState);\n\t\t\t// Set our view from the \"main\" layout resource\n\t\t\tSetContentView (Resource.Layout.Main);\n\t\t\tStreetHawk.Instance.SetAppKey (\"\u003cAPPKEY\u003e\"); //Replace wuth APPKEY for your applicaion\n\t\t\tPush.GetInstance (this).RegisterForPushMessaging (\"\u003cPROJECT NUMBER OF YOUR APPLICATION\u003e\"); //Replace with Project number\n\t\t\tStreetHawk.Instance.Init (Application);\n\t\t\t// Get our button from the layout resource,\n\t\t\t// and attach an event to it\n\t\t\tButton button = FindViewById\u003cButton\u003e (Resource.Id.myButton);\n\t\t\tbutton.Click += delegate {\n\t\t\t\tbutton.Text = string.Format (\"{0} clicks!\", count++);\n\t\t\t};\n\t\t}\n\n\t\tpublic void OnInstallRegistered(string installId) {\n\t\t\tPush.GetInstance (this).AddPushModule ();\n\t\t}\n\n\t}\n}\n```\n\n## Documentation\n\nClick the below links for detailed documentation.\n* [iOS](https://streethawk.freshdesk.com/solution/articles/5000688909-geofence)\n* [Android](https://streethawk.freshdesk.com/solution/articles/5000688901-geofence)","Hash":"7117c56ffb38d4c536d00996bb10461f","TargetPlatforms":["ios","ios-unified","android"],"TrialHash":null}